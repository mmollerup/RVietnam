---
title: "Practical A - Exercises"
author: "Statistical Programming with R"
date: ""
output: webexercises::webexercises_default
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(webexercises)

```

---


Today we are going to get acquainted with `R`. A convenient way to work with `R` is through `RStudio` which adds many features and convenient options to the plain `R` interface. Most of these features go beyond the scope of this course, but as you will develop your `R` skillset, you might run into the need for them and hence `RStudio` so it is worthwhile to get to know `RStudio` right from the beginning. 
 
If you have no experience with `R`, you will learn the most from following this document step by step. If you have some experience with `R` already,  I suggest you try solving the questions without looking at the answers/walkthrough. You can always refer to the solutions as needed. 

If you have any questions or if you feel that some code should be elaborated, feel free to ask.

---

#### Exercises
We start with the very basics and will move towards more advanced operations in `R`. First we will get acquainted with the language and the environment we work in. 

---


## 1. Get started with RStudio 

Open RStudio.  

The following window will appear. You might be faced with a bit different layout, but don't dispair. Close to everything can be configured to your likings, including the colour scheme!   
![alt text](figuresPractical/fig1.png)

RStudio is divided in 3 panes, namely the console, the environment/history pane and the pane where we can access our files, plots, the help files, make packages and view our data objects. You can change the order of the panes to your liking through `RStudio`'s preferences. I did, that is why your pane layout might differ from the layout in the above screenshot.

If we open an `R`-script (i.e. a file that contains `R` code), a fourth pane opens. 

### 1.1 Options in RStudio


Under the menu "Tools $\rightarrow$ Global Options..." are a few important settings.

Under the "General" tab, it is best not to restore .Rdata at startup and never to save your workspace at exit.


```{r echo=F, out.width='70%'}
#knitr::include_graphics("figurer/options_1.PNG")
```

XXXX FIGURE XXXX



## 2. Console
Switch to the console (bottom left) by clicking down there or with Ctrl+2.

In the console, you can write commands that are executed when you press Return.


### Exercise 2.1 

Try entering the following commands in the console: `2+2`, `sqrt(121)` and `round(0.6)`.

### Exercise 2.2

If we are not sure what the `round` function does, we can find a help file by typing `?round` or `help(round)`. Use this help to round 3.141593 to three decimal places

`r hide("Solution")`

We look at the documentation for the `round` function. The **Description** section describes the function - in this case it is common documentation for the functions `ceiling`, `floor`, `trunc`, `round` and `signif`.

Under **Usage** we see what a call to the functions looks like, and under **Arguments** we get a more detailed description of the arguments to the function.

Note that `round` takes two arguments: `x` and `digits`. The argument `digits` has the default value zero, with which you can get away with not specifying it and just write `round(3.141593)` if you are satisfied with rounding to an integer. If you specify `digits', you can determine the number of digits to be rounded to:


```{r}
round( 3.141593, digits = 3)
```

Further down in the documentation we find **Details** (note for example that 0.5 is rounded down to 0, while 1.5 is rounded up to 2), and further down **Examples** that might be worth looking at a few times.
`r unhide()`

### Exercise 2.3 

Try typing `5 - ` in the console followed by Return. What is happening and how to fix it?

`r hide("Svar")`
If you type an incomplete command and press Return, R displays a + prompt, which means that R is waiting for you to type the rest of the command. You can either complete the command or press Esc to start over.
`r unhide()`


## 3. Editoren
Editoren er øverst til venstre i Rstudio (hvis du ikke ændrede det, da vi var inde under Global Options). Man kan klikke sig derhen eller bruge Ctrl+1. 

### Exercise 3.1 
Du kan finde det kode, du allerede har kørt, i History-fanebladet øverst til højre i Rstudio. Marker det kode, du vil gemme, og klik "To source" for at sende det over i editoren. 

Tegnet `#` betyder, at resten af linjen bliver ignoreret, når du kører koden. Det gør `#` nyttig til at tilføje kommentaterer til din kode. Kommenter din kode, så du kan huske, hvad den går ud på, og gem koden til de første øvelser. Hvis du ikke har gjort det allerede, så lav en mappe til kursets øvelser et passende sted. Gem kodefilen der. 

### Exercise 3.2 
Kode sendes fra editoren til konsollen ved at placere cursoren i det relevante stykke kode (eller markere et stykke kode) og trykke Ctrl+Enter. 

**Stil cursoren et sted i editoren og tryk Ctrl+Enter. Hvor er cursoren nu, og hvad sker der i konsollen? Hvad sker der, hvis du trykker på det lille "Run"-ikon øverst i editoren?**

`r hide("Svar")`
Kode evalueres statement for statement i konsollen, og cursoren hopper videre til næste statement, når du har sendt ét statement til konsollen. På den måde kan du køre hele din kodefil igennem ét Ctrl+R efter et andet (stort set som F3 i SAS)

Hvis du markerer kode, kører Run-knappen det markerede, eller kører den hele kodefilen. Bemærk, at kørslen ikke stopper ved en fejl. 
`r unhide()`

## 4. Objekter og assignment
Data (såsom en tekststreng, eller resultatet af en udregning, eller befolkningen pr. 1.1 2016, eller et plot) kan assignes til et objekt, så det er tilgængeligt indtil du lukker din R-session. Du laver et objekt ved at give det et navn (såsom "a" eller "MyObject") og fortælle, hvad der skal ligge i det. 

```{r}
# Assignment sker med pil:
MyObject <- log10(30)
```

Bemærk, at din Environment-fane øverst til højre nu viser, at du har et objekt, der hedder `MyObject`. 

### Exercise 4.1
Når du herefter sender en kommando, der refererer til MyObject, erstatter R objektnavnet med data i objektet. Prøv med disse kommandoer: 

```{r, eval=FALSE}
MyObject
MyObject+2
```

Hvad giver kommandoen `Myobject-1`? Hvorfor? 
`r hide("Hint")`
Hvad er forskellen på `MyObject` og `Myobject`?
`r unhide()`
`r hide("Solution")`
```{r, error=TRUE}
MyObject-1
```

R er **case sensistive**, så `MyObject` og `Myobject` er forskellige objekter, og `MoObject` er ikke assignet noget. 
`r unhide()`

<!-- ### Exercise 4.2 -->
<!-- **Når nu vi er blevet enige om, at man ikke får noget ud af at referere til objekter, der ikke er assignet, hvad skal vi så tænke om outputtet af kommandoen `pi`?** -->

<!-- `r hide("Hint")` -->
<!-- Brug help-funktionen.  -->
<!-- `r unhide()` -->

<!-- `r hide("Svar")` -->
<!-- Kommandoen `?pi` sender os til dokumentationen af konstanter inkluderet i base R. Vi kan se, at der er et antal indbyggede konstanter, som ikke er synlige i environment-tabben, men er tilgængelige for beregninger -->

<!-- **Lidt mere dybdegående**: Når en pakke bliver loaded, er dens indhold tilgængeligt, men ikke synligt i Environment-tabben (eller for funktionen `ls()`). Konstanten `pi` ligger i pakken `base`, som altid er loaded pr. default. For at få noget at tygge på, så se her: -->

<!-- ```{r} -->
<!-- pi -->
<!-- # Vi sætter pi til fire. Hvorfor ikke? -->
<!-- pi <- 4 -->
<!-- pi -->

<!-- # Men vi kan stadig tilgå den gamle værdi fra base-pakken -->
<!-- base::pi -->
<!-- ``` -->

<!-- `r unhide()` -->



